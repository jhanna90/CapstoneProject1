{% extends 'base.html' %}

{% block content %}

<body>
    <h1>List of Episodes</h1>


    <form action="/episodes" method="GET">
        <label for="season">Select Season:</label>
        <select id="season" name="season">
            <option value="">All Seasons</option>
            {% set unique_seasons = [] %}
            {% for episode in episodes %}
            {% if episode.Season not in unique_seasons %}
            {% set _ = unique_seasons.append(episode.Season) %}
            <option value="{{ episode.Season }}">{{ episode.Season }}</option>
            {% endif %}
            {% endfor %}
        </select>
        <button type="submit" class="btn btn-primary">Filter</button>
    </form>


    <ul>
        {% for episode in episodes %}
        <li>
            <strong>Title:</strong> {{ episode.Title }}<br>
            <strong>Season:</strong> {{ episode.Season }}<br>
            <strong>Episode Number:</strong> {{ episode.NumInSeason }}<br>
            <strong>Directed By:</strong> {{ episode.DirectedBy }}<br>
            <strong>Original Air Date:</strong> {{ episode.OriginalAirDate }}<br>
        </li>
        <br>
        {% endfor %}
    </ul>
</body>

</html>

{% endblock %}